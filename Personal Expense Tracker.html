<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>
  <style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(120deg, #f8fafc 0%, #e0e7ff 100%);
    margin: 0;
    padding: 0;
    min-height: 100vh;
  }

  h1, h2, h3 {
    text-align: center;
    color: #3b3b5c;
    margin-top: 24px;
  }

  div {
    box-sizing: border-box;
  }

  div > input, div > select, div > button {
    margin: 8px 6px;
  }

  div > input, div > select {
    padding: 10px;
    border: 1px solid #c7d2fe;
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.2s;
    background: #fff;
  }

  div > input:focus, div > select:focus {
    border-color: #6366f1;
    outline: none;
  }

  #addBtn {
    background: linear-gradient(90deg, #6366f1 60%, #818cf8 100%);
    color: #fff;
    border: none;
    padding: 10px 22px;
    border-radius: 6px;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(99,102,241,0.15);
    transition: background 0.2s, transform 0.15s;
  }

  #addBtn:hover {
    background: linear-gradient(90deg, #818cf8 60%, #6366f1 100%);
    transform: translateY(-2px) scale(1.04);
  }

  div#expenseList {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 18px;
    margin: 32px auto 16px auto;
    max-width: 900px;
    padding: 0 16px;
  }

  .expense-item {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 18px rgba(99,102,241,0.10), 0 1.5px 4px rgba(0,0,0,0.04);
    padding: 18px 22px;
    font-size: 1.08rem;
    color: #374151;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: box-shadow 0.2s, transform 0.15s;
    border-left: 5px solid #6366f1;
  }

  .expense-item:hover {
    box-shadow: 0 8px 32px rgba(99,102,241,0.18), 0 2px 8px rgba(0,0,0,0.06);
    transform: scale(1.025);
  }

  h3 {
    background: #6366f1;
    color: #fff;
    padding: 14px 0;
    border-radius: 8px;
    width: 220px;
    margin: 24px auto 0 auto;
    box-shadow: 0 2px 10px rgba(99,102,241,0.10);
    letter-spacing: 1px;
  }

  @media (max-width: 600px) {
    div#expenseList {
      grid-template-columns: 1fr;
      padding: 0 4px;
    }
    h3 {
      width: 90vw;
      font-size: 1.1rem;
    }
  }
  </style>
</head>
<body>
  <h1>Personal Expense Tracker</h1>

  <div>
    <input type="text" id="desc" placeholder="Description" required />
    <input type="number" id="amount" placeholder="Amount" required />
    <input type="date" id="date" required />
    <select id="category">
      <option value="Food">Food</option>
      <option value="Transport">Transport</option>
      <option value="Utilities">Utilities</option>
      <option value="Other">Other</option>
    </select>
    <button id="addBtn">Add Expense</button>
  </div>

  <h2>All Expenses</h2>
  <div id="expenseList"></div>

  <h3>Total: ₹<span id="total">0</span></h3>

  <script>
    class Expense {
  constructor(id, description, amount, date) {
    this.id = id;
    this.description = description;
    this.amount = parseFloat(amount);
    this.date = new Date(date);
  }
}

class ExpenseManager {
  constructor() {
    this.expenseMap = new Map();
  }

  addExpense(category, expense) {
    if (!this.expenseMap.has(category)) {
      this.expenseMap.set(category, []);
    }
    this.expenseMap.get(category).push(expense);
  }

  getAllExpenses() {
    const all = [];
    for (const [category, expenses] of this.expenseMap.entries()) {
      all.push(...expenses.map(e => ({ ...e , category })));
    }
    return all;
  }

  getTotal() {
    let total = 0;
    for (const expenses of this.expenseMap.values()) {
      total += expenses.reduce((sum, e) => sum + e.amount, 0);
    }
    return total.toFixed(2);
  }
}

// Instantiate manager
const manager = new ExpenseManager();

// DOM Elements
const descInput = document.getElementById('desc');
const amountInput = document.getElementById('amount');
const dateInput = document.getElementById('date');
const categoryInput = document.getElementById('category');
const addBtn = document.getElementById('addBtn');
const expenseList = document.getElementById('expenseList');
const totalDisplay = document.getElementById('total');

// Add button event
addBtn.addEventListener('click', () => {
  const desc = descInput.value.trim();
  const amount = amountInput.value;
  const date = dateInput.value;
  const category = categoryInput.value;

  if (!desc || !amount || !date) return alert('Fill all fields.');

  const expense = new Expense(Date.now(), desc, amount, date);
  manager.addExpense(category, expense);

  renderExpenses();
  clearForm();
});

function renderExpenses() {
  expenseList.innerHTML = '';
  const expenses = manager.getAllExpenses();
  expenses.forEach(e => {
    const div = document.createElement('div');
    div.className = 'expense-item';
    div.textContent = `${e.category} - ${e.description} - ₹${e.amount} - ${e.date.toDateString()}`;
    expenseList.appendChild(div);
  });
  totalDisplay.textContent = manager.getTotal();
}

function clearForm() {
  descInput.value = '';
  amountInput.value = '';
  dateInput.value = '';
}

  </script>
</body>
</html>
